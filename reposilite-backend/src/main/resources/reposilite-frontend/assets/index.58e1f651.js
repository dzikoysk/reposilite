var Le=Object.defineProperty;var me=Object.getOwnPropertySymbols;var Oe=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable;var he=(o,t,i)=>t in o?Le(o,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[t]=i,Y=(o,t)=>{for(var i in t||(t={}))Oe.call(t,i)&&he(o,i,t[i]);if(me)for(var i of me(t))Ee.call(t,i)&&he(o,i,t[i]);return o};import{r as P,a as se,w as N,u as ge,d as Ae,b as Ve,c as m,o as c,e as u,f as a,g as h,t as y,h as $,n as re,i as ae,E as fe,S as ve,j as v,k as w,l as be,m as Z,v as J,p as ke,q as M,s as we,x as xe,y as B,z as L,A as V,P as ye,B as qe,C as U,D as W,F as A,G as q,T as Pe,H as Be,I as Re,J as He,K as De,L as ze,M as $e,N as Ne,O as Ue,Q as We,R as Ge,U as Ke,V as Fe}from"./vendor.aa5a4837.js";const Qe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const n of l.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&e(n)}).observe(document,{childList:!0,subtree:!0});function i(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function e(r){if(r.ep)return;r.ep=!0;const l=i(r);fetch(r.href,l)}};Qe();const H=P({isDark:!1}),ie="dark-theme";function Ie(){return{theme:H,fetchTheme:()=>{localStorage.getItem(ie)===null?H.isDark=window.matchMedia("(prefers-color-scheme: dark)").matches:H.isDark=localStorage.getItem(ie)==="true"},toggleTheme:()=>{H.isDark=!H.isDark,localStorage.setItem(ie,H.isDark)}}}function D(){const o=!"{{REPOSILITE.BASE_PATH}}".includes("REPOSILITE.BASE_PATH"),t=o?"{{REPOSILITE.BASE_PATH}}":"/",i=o?"{{REPOSILITE.ID}}":"reposilite-repository",e=o?"{{REPOSILITE.TITLE}}":"Reposilite Repository",r=o?"{{REPOSILITE.DESCRIPTION}}":"Public Maven repository hosted through the Reposilite",l=o?"{{REPOSILITE.ORGANIZATION_WEBSITE}}":location.protocol+"//"+location.host+t;return{available:o,basePath:t,id:i,title:e,description:r,organizationWebsite:l,organizationLogo:o?"{{REPOSILITE.ORGANIZATION_LOGO}}":"https://avatars.githubusercontent.com/u/75123628?s=200&v=4",icpLicense:o?"{{REPOSILITE.ICP_LICENSE}}":"\u56FDICP\u5907000000000\u53F7"}}const{basePath:Ye}=D(),le=()=>window.location.protocol+"//"+location.host+Ye,Ze=()=>le().endsWith("/")?le().slice(0,-1):le(),G=o=>Ze()+o,K=(o,t)=>{const i=()=>o&&t?e(o,t):{},e=(s,p)=>({headers:{Authorization:`xBasic ${btoa(`${s}:${p}`)}`}}),r=(s,p)=>se.get(G(s),Y({},p||i())),l=(s,p,d)=>se.put(G(s),p,{headers:Y({"Content-Type":"text/plain"},(d||i()).headers)});return{createURL:G,client:{auth:{me(s,p){return r("/api/auth/me",e(s,p))}},console:{},maven:{content(s){return r(`/${s}`)},details(s){return r(`/api/maven/details/${s||""}`)},download(s){return r(`/${s}`,Y({responseType:"blob"},i()))}},settings:{content(s){return r(`/api/settings/content/${s}`)},updateContent(s,p){return l(`/api/settings/content/${s}`,p)}}}}},O="",ce="session-token-name",de="session-token-secret",Je="access-token:manager",X=P({name:localStorage.getItem(ce)||O,secret:localStorage.getItem(de)||O}),Ce={accessToken:{id:O,name:O,createdAt:O,description:O},permissions:[],routes:[]},ee=P({details:Ce});function F(){const o=(n,s)=>{localStorage.setItem(ce,n),X.name=n,localStorage.setItem(de,s),X.secret=s},t=()=>{o(O,O),ee.details=Ce},i=async(n,s)=>{try{const{client:p}=K();if(n==O)throw new Error("Missing credentials");const d=await p.auth.me(n,s);return o(n,s),ee.details=d.data,{token:X,session:ee}}catch(p){throw t(),p}};return{token:X,session:ee,login:i,logout:t,fetchSession:()=>i(localStorage.getItem(ce),localStorage.getItem(de)),isLogged:n=>(n==null?void 0:n.name)!=O,hasManagerPermission:n=>{var s;return(s=n==null?void 0:n.permissions)==null?void 0:s.find(p=>p.identifier==Je)}}}const te=P({watchable:0,path:""});function Xe(o){const t=ge();return N(()=>t.params.qualifier,i=>{te.path=i,te.watchable++},{immediate:!0}),N(()=>o.name,i=>te.watchable++),{qualifier:te}}var b=(o,t)=>{const i=o.__vccOpts||o;for(const[e,r]of t)i[e]=r;return i};const et=Ae({setup(){const{title:o,description:t,organizationLogo:i,icpLicense:e}=D();Ve({title:o,description:t});const{theme:r,fetchTheme:l}=Ie(),{fetchSession:n,token:s,session:p}=F(),{qualifier:d}=Xe(s);return l(),n().catch(g=>{}),{theme:r,qualifier:d,token:s,session:p,icpLicense:e}}}),tt={class:"min-h-screen dark:bg-black dark:text-white"},ot={key:0,class:"absolute h-8 pb-2 w-full text-center text-xs dark:bg-black dark:text-white"},nt={href:"https://beian.miit.gov.cn",target:"_blank"};function st(o,t,i,e,r,l){const n=m("router-view");return c(),u("div",{class:re({dark:o.theme.isDark})},[a("div",tt,[h(n,{class:"router-view-full",qualifier:o.qualifier,token:o.token,session:o.session},null,8,["qualifier","token","session"]),o.icpLicense?(c(),u("div",ot,[a("a",nt,y(o.icpLicense),1)])):$("",!0)])],2)}var rt=b(et,[["render",st]]);const at={},it={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},lt=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),ct=[lt];function dt(o,t){return c(),u("svg",it,ct)}var ut=b(at,[["render",dt]]);const pt={components:{GlobeIcon:ut},setup(){const{description:o,organizationWebsite:t,organizationLogo:i}=D();return{description:o,organizationWebsite:t,organizationLogo:i}}},_t={class:"bg-gray-100 dark:bg-black"},mt={class:"container mx-auto flex flex-row <sm:flex-col <sm:items-center"},ht={class:"w-35 <sm:mb-2"},gt=["src"],ft={class:"flex flex-col justify-center px-10 <sm:px-0"},vt={class:"<sm:text-center"},bt={class:"flex flex-row py-2 <sm:justify-center"},kt=["href"];function wt(o,t,i,e,r,l){const n=m("GlobeIcon");return c(),u("div",_t,[a("div",mt,[a("div",ht,[a("img",{class:"border-2 rounded-full dark:border-gray-700",src:e.organizationLogo},null,8,gt)]),a("div",ft,[a("div",vt,y(e.description),1),a("div",bt,[h(n),a("a",{class:"px-3 text-gray-500",href:e.organizationWebsite},y(e.organizationWebsite),9,kt)])])])])}var xt=b(pt,[["render",wt]]);const yt={},$t={class:"mx-2 py-1.5 rounded-full font-bold px-6 text-sm max-h-35px min-w-93px default-button"};function It(o,t){return c(),u("div",$t,[ae(o.$slots,"default")])}var Ct=b(yt,[["render",It]]);const Tt={inheritAttrs:!1,components:{VueFinalModal:fe,ModalsContainer:ve},setup(){const{login:o}=F(),t=v(!1),i=v(""),e=v(""),r=()=>t.value=!1;return{name:i,secret:e,close:r,showLogin:t,signin:(n,s)=>{o(n,s).then(p=>M(`Dashboard accessed as ${n}`,{position:"bottom-right"})).then(p=>r()).catch(p=>{console.log(p),M(`${p.response.status}: ${p.response.data.message}`,{type:"danger"})})}}}},Te=o=>(we("data-v-3229371c"),o=o(),xe(),o),Mt={id:"login-modal"},St={class:"relative border bg-white dark:bg-gray-900 border-gray-100 dark:border-black m-w-20 py-5 px-10 rounded-2xl shadow-xl text-center"},jt=Te(()=>a("p",{class:"font-bold text-xl pb-4"},"Login with access token",-1)),Lt={class:"text-right mt-1"},Ot=Te(()=>a("button",{class:"bg-gray-100 dark:bg-gray-800 py-2 my-3 rounded-md cursor-pointer"},"Sign in",-1));function Et(o,t,i,e,r,l){const n=m("vue-final-modal");return c(),u("div",Mt,[h(n,ke({modelValue:e.showLogin,"onUpdate:modelValue":t[5]||(t[5]=s=>e.showLogin=s)},o.$attrs,{classes:"flex justify-center items-center"}),{default:w(()=>[a("div",St,[jt,a("form",{class:"flex flex-col w-96 <sm:w-65",onSubmit:t[3]||(t[3]=be(s=>e.signin(e.name,e.secret),["prevent"]))},[Z(a("input",{placeholder:"Name","onUpdate:modelValue":t[0]||(t[0]=s=>e.name=s),type:"text",class:"input"},null,512),[[J,e.name]]),Z(a("input",{placeholder:"Secret","onUpdate:modelValue":t[1]||(t[1]=s=>e.secret=s),type:"password",class:"input"},null,512),[[J,e.secret]]),a("div",Lt,[a("button",{onClick:t[2]||(t[2]=s=>e.close()),class:"text-blue-400 text-xs"},"\u2190 Back to index")]),Ot],32),a("button",{class:"absolute top-0 right-0 mt-5 mr-5",onClick:t[4]||(t[4]=s=>e.close())},"\u{1F5D9}")])]),_:1},16,["modelValue"]),a("div",{onClick:t[6]||(t[6]=s=>e.showLogin=!0)},[ae(o.$slots,"button",{},void 0,!0)])])}var At=b(Tt,[["render",Et],["__scopeId","data-v-3229371c"]]);const Vt={},qt={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Pt=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1),Bt=[Pt];function Rt(o,t){return c(),u("svg",qt,Bt)}var Ht=b(Vt,[["render",Rt]]);const Dt={},zt={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Nt=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1),Ut=[Nt];function Wt(o,t){return c(),u("svg",zt,Ut)}var Gt=b(Dt,[["render",Wt]]);const Kt={},Ft={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Qt=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},null,-1),Yt=[Qt];function Zt(o,t){return c(),u("svg",Ft,Yt)}var Jt=b(Kt,[["render",Zt]]);const Xt={components:{LogoutIcon:Jt,MenuButton:Ct,LoginModal:At,MoonIcon:Ht,SunIcon:Gt},props:{token:{type:Object,required:!0}},setup(o){const{theme:t,toggleTheme:i}=Ie(),{title:e}=D(),{isLogged:r,logout:l}=F(),n=o.token,s=B(()=>r(n));return{token:n,title:e,logged:s,signout:()=>l(),theme:t,toggleTheme:i}}},eo={class:"flex flex-row <sm:max-w-100px <sm:flex-wrap <sm:flex-1 <sm:justify-end <sm:min-w-1/2"},to={key:0,class:"pt-1.1 px-2 <sm:py-2 <sm:max-w-full <sm:truncate"},oo=V(" Welcome "),no={class:"font-bold underline"},so=V(" Sign in "),ro=V(" Logout "),ao={key:2,class:"hidden px-2.7 pt-0.8 mr-1.5 cursor-pointer rounded-full bg-white dark:bg-gray-900 max-h-35px <sm:block"};function io(o,t,i,e,r,l){const n=m("MenuButton"),s=m("LoginModal"),p=m("LogoutIcon"),d=m("SunIcon"),g=m("MoonIcon");return c(),u("nav",eo,[e.logged?(c(),u("div",to,[oo,a("span",no,y(e.token.name),1)])):$("",!0),h(s,null,{button:w(()=>[e.logged?$("",!0):(c(),L(n,{key:0},{default:w(()=>[so]),_:1}))]),_:1}),e.logged?(c(),L(n,{key:1,onClick:t[0]||(t[0]=_=>e.signout()),class:"<sm:hidden"},{default:w(()=>[ro]),_:1})):$("",!0),e.logged?(c(),u("div",ao,[h(p,{onClick:t[1]||(t[1]=_=>e.signout())})])):$("",!0),a("div",{class:"pl-2 pt-1.3 rounded-full max-h-35px default-button",onClick:t[2]||(t[2]=_=>e.toggleTheme())},[e.theme.isDark?(c(),L(d,{key:0,class:"mr-1.9"})):(c(),L(g,{key:1,class:"mr-1.5"}))])])}var lo=b(Xt,[["render",io]]);const co={components:{Hero:xt,Menu:lo},props:{token:{type:Object,required:!0}},setup(o){const t=o.token,{title:i}=D();return{token:t,title:i}}},uo={class:"bg-gray-100 dark:bg-black dark:text-white"},po={class:"container mx-auto flex flex-row py-10 justify-between <sm:pb-2 <sm:pt-5 <sm:px-5 <sm:justify-start"},_o={class:"text-xl font-medium py-1 <sm:w-1/2"};function mo(o,t,i,e,r,l){const n=m("router-link"),s=m("Menu"),p=m("Hero");return c(),u("header",uo,[a("div",po,[a("h1",_o,[h(n,{to:"/"},{default:w(()=>[V(y(e.title),1)]),_:1})]),h(s,{token:e.token,class:"mt-0.5"},null,8,["token"])]),h(p,{class:"pt-2 pb-10 <sm:pb-4"})])}var ho=b(co,[["render",mo]]);const go={},fo={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},vo=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"},null,-1),bo=[vo];function ko(o,t){return c(),u("svg",fo,bo)}var wo=b(go,[["render",ko]]);const xo={inheritAttrs:!1,components:{VueFinalModal:fe,ModalsContainer:ve},setup(){return{showAdjustments:v(!1)}}},yo={id:"adjustments-modal"},$o=a("div",{class:"relative border bg-white dark:bg-gray-900 border-gray-100 dark:border-black m-w-20 py-5 px-10 rounded-2xl shadow-xl text-center"},[a("div",null,"#TODO")],-1);function Io(o,t,i,e,r,l){const n=m("vue-final-modal");return c(),u("div",yo,[h(n,ke({modelValue:e.showAdjustments,"onUpdate:modelValue":t[0]||(t[0]=s=>e.showAdjustments=s)},o.$attrs,{classes:"flex justify-center items-center"}),{default:w(()=>[$o]),_:1},16,["modelValue"]),a("div",{onClick:t[1]||(t[1]=s=>e.showAdjustments=!0)},[ae(o.$slots,"button")])])}var Co=b(xo,[["render",Io]]);const To={},Mo={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},So=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"},null,-1),jo=[So];function Lo(o,t){return c(),u("svg",Mo,jo)}var Oo=b(To,[["render",Lo]]);const Eo={},Ao={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Vo=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"},null,-1),qo=[Vo];function Po(o,t){return c(),u("svg",Ao,qo)}var Bo=b(Eo,[["render",Po]]);function Ro(){return{createSnippets:(t,i,e)=>[{name:"Maven",lang:"xml",snippet:`
<dependency>
  <groupId>${t}</groupId>
  <artifactId>${i}</artifactId>
  <version>${e}</version>
</dependency>`.trim()},{name:"Gradle Groovy",lang:"xml",snippet:`implementation "${t}:${i}:${e}"`},{name:"Gradle Kotlin",lang:"kotlin",snippet:`implementation("${t}:${i}:${e}")`},{name:"SBT",lang:"scala",snippet:`"${t}" %% "${i}" %% "${e}"`}]}}function Ho(){const{basePath:o,id:t,title:i}=D();return{createRepositories:r=>{const l=B(()=>r.path.split("/")[0]),n=t+(r.path?`-${l.value}`:""),s=location.protocol+"//"+location.host+o+(o.endsWith("/")?"":"/")+(r.path?`${l.value}`:"{repository}");return[{name:"Maven",lang:"xml",snippet:`
<repository>
  <id>${n}</id>
  <name>${i}</name>
  <url>${s}</url>
</repository>
        `.trim()},{name:"Gradle Groovy",lang:"groovy",snippet:`maven {
    url "${s}"
 }`.trim()},{name:"Gradle Kotlin",lang:"kotlin",snippet:`maven {
    url = uri("${s}")
}`},{name:"SBT",lang:"scala",snippet:`resolvers += "${n}" at "${s}"`}]}}}const Do=new DOMParser;function zo(){return{parseMetadata:r=>Do.parseFromString(r,"text/xml"),groupId:r=>{var l,n;return(n=(l=r==null?void 0:r.getElementsByTagName("groupId")[0])==null?void 0:l.firstChild)==null?void 0:n.nodeValue},artifactId:r=>{var l,n;return(n=(l=r==null?void 0:r.getElementsByTagName("artifactId")[0])==null?void 0:l.firstChild)==null?void 0:n.nodeValue},versions:r=>{var l;return(l=[...r.querySelector("versioning versions").children].map(n=>n.firstChild.nodeValue))!=null?l:["{unknown}"]}}}const No={},Uo={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Wo=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"},null,-1),Go=[Wo];function Ko(o,t){return c(),u("svg",Uo,Go)}var Fo=b(No,[["render",Ko]]);const Qo={},Yo={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Zo=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1),Jo=[Zo];function Xo(o,t){return c(),u("svg",Yo,Jo)}var en=b(Qo,[["render",Xo]]);const tn={components:{PrismEditor:ye,CopyIcon:Fo,DownIcon:en},props:{qualifier:{type:Object,required:!0},token:{type:Object,required:!0}},setup(o){const t=o.qualifier,i=o.token,e=v(""),r=v([]),{createRepositories:l}=Ho(),{createSnippets:n}=Ro(),{parseMetadata:s,groupId:p,artifactId:d,versions:g}=zo(),{client:_}=K(i.name,i.secret),{copy:k,isSupported:I}=qe(),f=v(localStorage.getItem("card-tab")||"Maven"),S=v(localStorage.getItem("dropdown-open")||!1);U(()=>localStorage.setItem("card-tab",f.value)),U(()=>localStorage.setItem("dropdown-open",S.value));const Q=()=>{r.value=l(t),e.value="Repository details"},E=(x,j)=>{e.value="Artifact details";const C=s(x),z=g(C);r.value=n(p(C),d(C),z[j?z.indexOf(j):z.length-1])};U(()=>{const x=t.path.split("/");if(x.length==1&&x[0]==""){Q();return}_.maven.content(`${t.path}/maven-metadata.xml`).then(j=>E(j.data)).catch(j=>{_.maven.content(`${t.path.substring(0,t.path.indexOf(x[x.length-1])-1)}/maven-metadata.xml`).then(C=>E(C.data,x[x.length-1])).catch(C=>{C.message!=="Request failed with status code 404"&&console.log(C),Q()})})}),U(()=>{r.value.forEach(x=>{x.highlighter=j=>{var C;return W.highlight(j,(C=W.languages[x.lang])!=null?C:W.languages.js)}})});const R=v("slide-right");return N(f,(x,j)=>{const C=r.value.findIndex(ne=>ne.name===x),z=r.value.findIndex(ne=>ne.name===j);R.value=C-z<0?"slide-left":"slide-right"}),{title:e,configurations:r,selectedTab:f,transitionName:R,copy:async()=>{const{snippet:x}=r.value.find(j=>j.name===f.value);return await k(x),M("Snippet copied",{type:"info",timeout:"2000"})},isCopySupported:I,dropdownOpen:S}}},on={class:"bg-white dark:bg-gray-900 shadow-lg p-7 rounded-xl border-gray-100 dark:border-black"},nn={class:"flex flex-row justify-between"},sn={class:"font-bold flex items-center w-full"},rn={id:"card-menu",class:"flex mt-2 <sm:hidden"},an=["onClick"],ln={class:"hidden flex-col items-center mt-24px <sm:flex"},cn={class:"w-20px h-25px float-right m-auto flex items-center"},dn={key:0,class:"rounded-lg w-full box-border p-2 bg-true-gray-100 dark:bg-dark-600"},un=["onClick"],pn=a("hr",{class:"dark:border-gray-800 <sm:hidden"},null,-1),_n={class:"overflow-hidden"};function mn(o,t,i,e,r,l){const n=m("copy-icon"),s=m("down-icon"),p=m("prism-editor");return c(),u("div",on,[a("div",nn,[a("h1",sn,[V(y(e.title)+" ",1),e.isCopySupported?(c(),u("span",{key:0,onClick:t[0]||(t[0]=(...d)=>e.copy&&e.copy(...d)),class:"ml-auto cursor-pointer"},[h(n)])):$("",!0)])]),a("div",rn,[(c(!0),u(A,null,q(e.configurations,d=>(c(),u("div",{key:d.name,onClick:g=>e.selectedTab=d.name,class:re(["py-4 px-7 flex-grow text-center border-b-2 cursor-pointer border-transparent",{"!border-gray-800":d.name===e.selectedTab}])},y(d.name),11,an))),128))]),a("div",ln,[a("div",{class:"w-full box-border py-5px p-2 rounded-lg border-1 border-true-gray-200 dark:border-dark-300",onClick:t[1]||(t[1]=d=>e.dropdownOpen=!e.dropdownOpen)},[V(y(e.selectedTab)+" ",1),a("div",cn,[h(s)])]),e.dropdownOpen?$("",!0):(c(),u("ul",dn,[(c(!0),u(A,null,q(e.configurations,d=>(c(),u("li",{key:d.name,onClick:g=>{e.selectedTab=d.name,e.dropdownOpen=!e.dropdownOpen},class:re(["dropdown py-1",{hidden:d.name===e.selectedTab}])},y(d.name),11,un))),128))]))]),pn,a("div",_n,[h(Pe,{name:e.transitionName,mode:"out-in"},{default:w(()=>[(c(),u("div",{key:e.selectedTab,class:"relative h-33 mt-6 p-4 mr-1 rounded-lg bg-gray-100 dark:bg-gray-800"},[(c(!0),u(A,null,q(e.configurations,d=>(c(),u(A,{key:d.name},[d.name===e.selectedTab?(c(),L(p,{key:0,class:"card-editor font-mono absolute text-sm",modelValue:d.snippet,"onUpdate:modelValue":g=>d.snippet=g,highlight:d.highlighter,readonly:"","line-numbers":""},null,8,["modelValue","onUpdate:modelValue","highlight"])):$("",!0)],64))),128))]))]),_:1},8,["name"])])])}var hn=b(tn,[["render",mn]]);const gn={props:{file:{type:Object,required:!0}},setup(o){return{file:o.file,prettyBytes:Be}}},fn={class:"browser-entry flex flex-row justify-between mb-1.5 py-3 rounded-full default-button"},vn={class:"flex flex-row"},bn={key:0,class:"text-xm px-6 pt-1.75"},kn={key:1,class:"text-xm px-6 pt-1.75"},wn={class:"font-semibold"},xn={key:0,class:"px-6"};function yn(o,t,i,e,r,l){return c(),u("div",fn,[a("div",vn,[e.file.type=="DIRECTORY"?(c(),u("div",bn,"\u26AB")):(c(),u("div",kn,"\u26AA")),a("div",wn,y(e.file.name),1)]),e.file.contentLength?(c(),u("div",xn,y(e.prettyBytes(e.file.contentLength)),1)):$("",!0)])}var $n=b(gn,[["render",yn]]);const In={components:{AdjustmentsModal:Co,AdjustmentsIcon:wo,HashtagIcon:Oo,SortDescending:Bo,Card:hn,Entry:$n},props:{qualifier:{type:Object,required:!0},token:{type:Object,required:!0}},setup(o){const t=o.qualifier,i=o.token,e=v(""),r=v([]),l=v(!1),n=v(void 0),s=k=>k.type=="DIRECTORY",p=ge(),d=k=>(k.endsWith("/")?k.slice(0,-1):k).split("/").slice(0,-1).join("/")||"/";N(()=>t.watchable,async k=>{const{client:I}=K(i.name,i.secret);I.maven.details(t.path).then(f=>{r.value=f.data.files,l.value=r.value.length==0,n.value=void 0}).catch(f=>{console.log(f),M(`${f.response.status}: ${f.response.data.message}`,{type:"danger"}),r.value=[],n.value=f}),e.value=d(`/${t.path}`)},{immediate:!0});const g=B(()=>{const k=p.path.split("/");return k.map((I,f)=>({link:k.slice(0,f+1).join("/")||"/",name:f===k.length-1?I:I+"/"}))});return{qualifier:t,token:i,parentPath:e,files:r,isEmpty:l,isErrored:n,isDirectory:s,createURL:G,breadcrumbs:g,downloadHandler:(k,I)=>{const{client:f}=K(i.name,i.secret);f.maven.download(k.substring(1)+"/"+I).then(S=>Re(S.data,I,S.headers["content-type"])).catch(S=>{console.log(S),M(`Cannot download file - ${error.response.status}: ${error.response.data.message}`,{type:"danger"})})}}}},Cn={class:"bg-gray-100"},Tn={class:"dark:bg-black"},Mn={class:"container mx-auto relative min-h-320px mb-1.5"},Sn={class:"lg:absolute pt-13 -top-5 right-8"},jn={class:"lg:max-w-2/5 xl:max-w-1/2"},Ln={class:"flex justify-between pt-7 px-2"},On={class:""},En={class:"pb-3 font-semibold"},An={class:"select-none"},Vn=V(" Index of "),qn={class:"select-text"},Pn={class:"hover:transition-colors hover:duration-200 hover:text-purple-500"},Bn=a("span",{class:"font-normal text-xl text-gray-500 select-none"}," \u2934 ",-1),Rn={class:"w-9"},Hn={class:"bg-white dark:bg-gray-900 pl-2 pt-1.3 pb-1 pr-2 cursor-pointer rounded-full default-button"},Dn={id:"browser-list",class:"pt-3"},zn=["onClick","href"],Nn={key:0,class:"pl-2"},Un=a("p",null,"Directory is empty",-1),Wn=[Un],Gn={key:1,class:"pl-2"},Kn=a("p",null,"Directory not found",-1),Fn=[Kn];function Qn(o,t,i,e,r,l){const n=m("Card"),s=m("router-link"),p=m("AdjustmentsIcon"),d=m("AdjustmentsModal"),g=m("Entry");return c(),u("div",Cn,[a("div",Tn,[a("div",Mn,[a("div",Sn,[h(n,{qualifier:e.qualifier,token:e.token},null,8,["qualifier","token"])]),a("div",jn,[a("div",Ln,[a("div",On,[a("p",En,[a("span",An,[h(s,{to:"/"},{default:w(()=>[Vn]),_:1})]),a("span",qn,[(c(!0),u(A,null,q(e.breadcrumbs,_=>(c(),L(s,{key:_.link,to:_.link},{default:w(()=>[a("span",Pn,y(_.name),1)]),_:2},1032,["to"]))),128))]),h(s,{to:e.parentPath},{default:w(()=>[Bn]),_:1},8,["to"])])]),a("div",Rn,[h(d,null,{button:w(()=>[a("div",Hn,[h(p,{class:"pr-0.9"})])]),_:1})])]),a("div",Dn,[(c(!0),u(A,null,q(e.files,_=>(c(),u("div",{key:_},[e.isDirectory(_)?(c(),L(s,{key:0,to:o.append(o.$route.path,_.name)},{default:w(()=>[h(g,{file:_},null,8,["file"])]),_:2},1032,["to"])):(c(),u("a",{key:1,onClick:be(k=>e.downloadHandler(o.$route.path,_.name),["left","prevent"]),href:o.$route.path+"/"+_.name,target:"_blank"},[h(g,{file:_},null,8,["file"])],8,zn))]))),128)),e.isEmpty?(c(),u("div",Nn,Wn)):$("",!0),e.isErrored?(c(),u("div",Gn,Fn)):$("",!0)])])])])])}var Yn=b(In,[["render",Qn]]);const Zn={},Jn={class:"container mx-auto pt-10 px-15"},Xn=a("i",null,"Endpoints :: soon\u2122",-1),es=[Xn];function ts(o,t){return c(),u("div",Jn,es)}var os=b(Zn,[["render",ts]]);const ns={components:{PrismEditor:ye},props:{token:{type:Object,required:!0}},setup(o){const t=o.token,{client:i}=K(t.name,t.secret),e=d=>W.highlight(d,W.languages.js),r="configuration.shared.cdn",l=v(""),n=v(!1),s=()=>i.settings.content(r).then(d=>l.value=d.data.content).catch(d=>M(d,{type:"error"})),p=()=>i.settings.updateContent(r,l.value).then(d=>{M("Configuration has been deployed, fetching...",{type:"info"}),s().then(g=>M("Configuration reloaded, refresh page to see changes",{type:"success"}))}).catch(d=>M(d,{type:"error"}));return s().then(()=>n.value=!0),{configuration:l,configurationInitialized:n,fetchConfiguration:s,updateConfiguration:p,highlighter:e}}},ss={class:"container mx-auto py-10 px-15"},rs={class:"flex justify-between pb-5 flex-col xl:flex-row"},as=a("div",null,[a("p",null,"Modify configuration shared between all instances."),a("p",null,[a("strong",null,"Remember"),V(": Configuration propagation can take up to 30 seconds on all instances")])],-1),is={id:"configuration-state",class:"flex flex-row pt-3 xl:pt-2"},ls=a("p",null,"Reset changes",-1),cs=[ls],ds=a("p",null,"Update and reload",-1),us=[ds],ps={class:"border-1 rounded p-4 dark:border-gray-700"};function _s(o,t,i,e,r,l){const n=m("prism-editor");return c(),u("div",ss,[a("div",rs,[as,a("div",is,[a("button",{onClick:t[0]||(t[0]=(...s)=>e.fetchConfiguration&&e.fetchConfiguration(...s))},cs),a("button",{onClick:t[1]||(t[1]=(...s)=>e.updateConfiguration&&e.updateConfiguration(...s))},us)])]),a("div",ps,[e.configurationInitialized?(c(),L(n,{key:0,class:"configuration-editor font-mono text-xs",modelValue:e.configuration,"onUpdate:modelValue":t[2]||(t[2]=s=>e.configuration=s),highlight:e.highlighter,"line-numbers":""},null,8,["modelValue","highlight"])):$("",!0)])])}var ms=b(ns,[["render",_s]]);const Me=["Other","Trace","Debug","Info","Warn","Error"],ue=P({}),Se=v(""),hs=v(0),oe=P([]),gs=new He,fs=o=>{var t;return(t=Me.find(i=>o.includes(`${i.toUpperCase()} | `)))!=null?t:"Other"},je=o=>gs.toHtml(o.replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll(" ","&nbsp;"));function vs(){Me.forEach(e=>{ue[e]={name:e,enabled:!0,count:B(()=>oe.reduce((r,l)=>r+(l.level===e),0))}});const o=B(()=>oe.filter(e=>e.message.toLowerCase().includes(Se.value.toLowerCase())).filter(e=>ue[e.level].enabled));return{levels:ue,log:o,filter:Se,sanitizeMessage:je,logMessage:e=>{oe.push({id:hs.value++,message:je(e),level:fs(e)})},clearLog:()=>{oe.length=0}}}const T=v(),pe=v("");function bs(){const o=G("/api/console/sock").replace("https","wss").replace("http","ws"),t=()=>{var d;return((d=T.value)==null?void 0:d.readyState)===WebSocket.OPEN},i=()=>{t()&&T.value.close()},e=()=>{T.value.send(pe.value),pe.value=""},r=v(),l=v(),n=v(),s=v();return{connection:T,connect:d=>{try{T.value=new WebSocket(o),T.value.onopen=()=>{T.value.send(`Authorization:${d.name}:${d.secret}`),r==null||r.value()},T.value.onmessage=_=>{_.data!="keep-alive"&&(l==null||l.value(_.data))},T.value.onerror=_=>n==null?void 0:n.value(_),T.value.onclose=()=>s==null?void 0:s.value();const g=setInterval(()=>{var _;t()?(_=T==null?void 0:T.value)==null||_.send("keep-alive"):clearInterval(g)},1e3*5)}catch(g){console.log(g),n==null||n.value(g)}},close:i,onOpen:r,onMessage:l,onError:n,onClose:s,command:pe,execute:e}}const ks={props:{selectedTab:{type:Object,required:!0}},setup(o){const t=o.selectedTab,{levels:i,log:e,logMessage:r,filter:l,clearLog:n}=vs(),{onOpen:s,onMessage:p,onClose:d,onError:g,connect:_,close:k,command:I,execute:f}=bs();De(()=>k());const S=()=>{const E=document.getElementById("console");E.scrollTop=E.scrollHeight},Q=()=>{M("Connecting to the remote console",{type:"info"});const{token:E}=F();s.value=()=>n(),p.value=R=>{r(R),$e(()=>S())},g.value=R=>M(`${R||""}`,{type:"danger"}),d.value=()=>M("Connection with console has been lost",{type:"danger"}),_(E),$e(()=>setTimeout(()=>document.getElementById("consoleInput").focus(),1e3))};return N(()=>t.value,E=>E==="Console"?Q():k(),{immediate:!0}),{log:e,command:I,execute:f,levels:i,filter:l}}},ws={class:"container mx-auto pt-10 px-15 pb-10 text-xs"},xs={class:"flex text-sm flex-col xl:flex-row w-full py-2 justify-between"},ys={class:"flex flex-row justify-around w-full xl:w-1/2 <md:flex-wrap"},$s=["checked","onChange"],Is={class:"pl-2 pr-4"},Cs={class:"bg-white dark:bg-gray-900 rounded-lg"},Ts={id:"console",class:"overflow-scroll h-144 px-4 whitespace-pre-wrap font-mono text-xs"},Ms=["innerHTML"],Ss=a("hr",{class:"dark:border-dark-300"},null,-1);function js(o,t,i,e,r,l){return c(),u("div",ws,[a("div",xs,[Z(a("input",{placeholder:"Filter","onUpdate:modelValue":t[0]||(t[0]=n=>e.filter=n),class:"w-full xl:w-1/2 mr-5 py-1 px-4 rounded-lg bg-white dark:bg-gray-900"},null,512),[[J,e.filter]]),a("div",ys,[(c(!0),u(A,null,q(e.levels,n=>(c(),u("div",{key:n.name,class:"pt-1.9 xl:pt-0.8 font-sans whitespace-nowrap"},[a("input",{type:"checkbox",checked:n.enabled,onChange:s=>n.enabled=!n.enabled},null,40,$s),a("span",Is,y(n.name)+" ("+y(n.count)+")",1)]))),128))])]),a("div",Cs,[a("div",Ts,[(c(!0),u(A,null,q(e.log,n=>(c(),u("p",{key:n.id,innerHTML:n.message,class:"whitespace-nowrap"},null,8,Ms))),128))]),Ss,Z(a("input",{id:"consoleInput",placeholder:"Type command or '?' to get help",class:"w-full py-2 px-4 rounded-b-lg bg-white dark:bg-gray-900 dark:text-white","onUpdate:modelValue":t[1]||(t[1]=n=>e.command=n),onKeyup:t[2]||(t[2]=ze(n=>e.execute(),["enter"]))},null,544),[[J,e.command]])])])}var Ls=b(ks,[["render",js]]);const Os={components:{Header:ho,Browser:Yn,Endpoints:os,Console:Ls,Configuration:ms},props:{qualifier:{type:Object,required:!0},token:{type:Object,required:!0},session:{type:Object,required:!0}},setup(o){const t=o.qualifier,i=o.token,e=o.session,{hasManagerPermission:r}=F(),l=B(()=>r(e.details)),n=[{name:"Overview"},{name:"Console",manager:!0},{name:"Configuration",manager:!0}],s=P({value:localStorage.getItem("selectedTab")||"Overview"});U(()=>localStorage.setItem("selectedTab",s.value));const p=B(()=>n.filter(d=>!(d==null?void 0:d.manager)||r(e.details)).map(d=>d.name));return{qualifier:t,token:i,menuTabs:p,isManager:l,selectedTab:s}}},Es=o=>(we("data-v-78e77185"),o=o(),xe(),o),As={class:"bg-gray-100 dark:bg-black"},Vs={class:"container mx-auto <sm:px-0"},qs=Es(()=>a("hr",{class:"dark:border-gray-700"},null,-1)),Ps={class:"overflow-auto"};function Bs(o,t,i,e,r,l){const n=m("Header"),s=m("tab"),p=m("tabs"),d=m("Browser"),g=m("tab-panel"),_=m("Console"),k=m("Configuration"),I=m("tab-panels");return c(),u("div",null,[h(n,{token:e.token},null,8,["token"]),a("div",As,[a("div",Vs,[h(p,{modelValue:e.selectedTab.value,"onUpdate:modelValue":t[0]||(t[0]=f=>e.selectedTab.value=f)},{default:w(()=>[(c(!0),u(A,null,q(e.menuTabs,(f,S)=>(c(),L(s,{class:"item font-normal",key:`menu${S}`,val:f,label:f,indicator:!0},null,8,["val","label"]))),128))]),_:1},8,["modelValue"])]),qs,a("div",Ps,[h(I,{modelValue:e.selectedTab.value,"onUpdate:modelValue":t[1]||(t[1]=f=>e.selectedTab.value=f),animate:!0},{default:w(()=>[h(g,{val:"Overview"},{default:w(()=>[h(d,{qualifier:e.qualifier,token:e.token,ref:""},null,8,["qualifier","token"])]),_:1}),e.isManager?(c(),L(g,{key:0,val:"Console"},{default:w(()=>[h(_,{selectedTab:e.selectedTab},null,8,["selectedTab"])]),_:1})):$("",!0),e.isManager?(c(),L(g,{key:1,val:"Configuration"},{default:w(()=>[h(k,{selectedTab:e.selectedTab,token:e.token},null,8,["selectedTab","token"])]),_:1})):$("",!0)]),_:1},8,["modelValue"])])])])}var Rs=b(Os,[["render",Bs],["__scopeId","data-v-78e77185"]]);const Hs=Ne({history:Ue(),routes:[{path:"/:qualifier(.*)",name:"Index",component:Rs}]});const _e=We(rt);_e.config.globalProperties.append=(o,t)=>o+(o.endsWith("/")?"":"/")+t;_e.config.globalProperties.drop=o=>(o.endsWith("/")?o.slice(0,-1):o).split("/").slice(0,-1).join("/");_e.use(Ge()).use(Ke,se).use(Fe).use(Hs).mount("#app");
