var e=Object.defineProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,o=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a;import{r as l,a as s,u as r,w as i,d as c,b as u,c as d,o as p,e as g,f as m,g as v,t as f,h,n as b,i as y,p as k,j as x,M as w,T as I,k as E,l as T,m as L,q as $,v as O,s as S,x as M,y as C,z as q,A as P,P as V,B as j,C as R,F as _,D as A,E as B,G as D,H as z,I as N,J as U,K as H,L as W,N as G,O as K,Q as F,R as Y}from"./vendor.f618f56f.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const Z=l({isDark:!1});function J(){return{theme:Z,fetchTheme:()=>{Z.isDark="true"===localStorage.getItem("dark-theme")},toggleTheme:()=>{Z.isDark=!Z.isDark,localStorage.setItem("dark-theme",Z.isDark)}}}function Q(){const e=!"{{REPOSILITE.BASE_PATH}}".includes("REPOSILITE.BASE_PATH"),t=e?"{{REPOSILITE.BASE_PATH}}":"/";return{available:e,basePath:t,id:e?"{{REPOSILITE.ID}}":"reposilite-repository",title:e?"{{REPOSILITE.TITLE}}":"Reposilite Repository",description:e?"{{REPOSILITE.DESCRIPTION}}":"Public Maven repository hosted through the Reposilite",organizationWebsite:e?"{{REPOSILITE.ORGANIZATION_WEBSITE}}":location.protocol+"//"+location.host+t,organizationLogo:e?"{{REPOSILITE.ORGANIZATION_LOGO}}":"https://avatars.githubusercontent.com/u/75123628?s=200&v=4",icpLicense:e?"{{REPOSILITE.ICP_LICENSE}}":"å›½ICPå¤‡000000000å·"}}const{basePath:X}=Q(),ee=()=>window.location.protocol+"//"+location.host+X,te=e=>(ee().endsWith("/")?ee().slice(0,-1):ee())+e,ne=(e,l)=>{const r=(e,t)=>({headers:{Authorization:`xBasic ${btoa(`${e}:${t}`)}`}}),i=(i,c)=>(c=c||(e&&l?r(e,l):{}),s.get(te(i),((e,l)=>{for(var s in l||(l={}))n.call(l,s)&&o(e,s,l[s]);if(t)for(var s of t(l))a.call(l,s)&&o(e,s,l[s]);return e})({},c)));return{createURL:te,client:{auth:{me:(e,t)=>i("/api/auth/me",r(e,t))},console:{},maven:{content:e=>i(`/${e}`),details:e=>i(`/api/maven/details/${e||""}`)}}}},ae=l({name:"",secret:""}),oe={id:"",name:"",createdAt:"",permissions:[],routes:[]},le=l({tokenInfo:oe});function se(){const e=(e,t)=>{localStorage.setItem("session-token-name",e),ae.name=e,localStorage.setItem("session-token-secret",t),ae.secret=t},t=()=>{e("",""),le.tokenInfo=oe},n=async(n,a)=>{try{const{client:t}=ne();if(""==n)throw new Error("Missing credentials");const o=await t.auth.me(n,a);return e(n,a),le.tokenInfo=o.data,{token:ae,session:le}}catch(o){throw t(),o}};return{token:ae,session:le,login:n,logout:t,fetchSession:()=>n(localStorage.getItem("session-token-name"),localStorage.getItem("session-token-secret")),isLogged:()=>""!=ae.name,isManager:e=>{var t;return null==(t=null==e?void 0:e.permissions)?void 0:t.find((e=>"access-token:manager"==e.identifier))}}}const re=l({watchable:0,path:""});var ie=(e,t)=>{for(const[n,a]of t)e[n]=a;return e};const ce=c({setup(){const{title:e,description:t,organizationLogo:n,icpLicense:a}=Q();u({title:e,description:t});const{theme:o,fetchTheme:l}=J(),{fetchSession:s,token:c,session:d}=se(),{qualifier:p}=function(e){const t=r();return i((()=>t.params.qualifier),(e=>{re.path=e,re.watchable++}),{immediate:!0}),i((()=>e.name),(e=>re.watchable++)),{qualifier:re}}(c);return l(),s().catch((e=>{})),{theme:o,qualifier:p,session:d,icpLicense:a}}}),ue={key:0,class:"absolute bottom-4 w-full text-center text-xs"},de={href:"https://beian.miit.gov.cn",target:"_blank"};var pe=ie(ce,[["render",function(e,t,n,a,o,l){const s=d("router-view");return p(),g("div",{class:b({dark:e.theme.isDark})},[m(s,{class:"min-h-screen dark:bg-black dark:text-white",qualifier:e.qualifier,session:e.session},null,8,["qualifier","session"]),e.icpLicense?(p(),g("div",ue,[v("a",de,f(e.icpLicense),1)])):h("",!0)],2)}]]);const ge={},me={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},ve=[v("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)];const fe={class:"bg-gray-100 dark:bg-black"},he={class:"container mx-auto flex flex-row"},be={class:"w-35"},ye=["src"],ke={class:"flex flex-col justify-center px-10"},xe={class:"flex flex-row py-2"},we=["href"];var Ie=ie({components:{GlobeIcon:ie(ge,[["render",function(e,t){return p(),g("svg",me,ve)}]])},setup(){const{description:e,organizationWebsite:t,organizationLogo:n}=Q();return{description:e,organizationWebsite:t,organizationLogo:n}}},[["render",function(e,t,n,a,o,l){const s=d("GlobeIcon");return p(),g("div",fe,[v("div",he,[v("div",be,[v("img",{class:"border-2 rounded-full dark:border-gray-700",src:a.organizationLogo},null,8,ye)]),v("div",ke,[v("div",null,[v("p",null,f(a.description),1)]),v("div",xe,[m(s),v("a",{class:"px-3 text-gray-500",href:a.organizationWebsite},f(a.organizationWebsite),9,we)])])])])}]]);const Ee={class:"mx-2 py-1.5 rounded-full bg-white dark:bg-gray-900 font-bold px-6 text-sm cursor-pointer"};var Te=ie({},[["render",function(e,t){return p(),g("div",Ee,[y(e.$slots,"default")])}]]);const Le={inheritAttrs:!1,components:{VueFinalModal:w,ModalsContainer:I},setup(){const{login:e}=se(),t=E(!1),n=E(""),a=E(""),o=()=>t.value=!1;return{name:n,secret:a,close:o,showLogin:t,signin:(t,n)=>{e(t,n).then((e=>M(`Dashboard accessed as ${t}`,{position:"bottom-right"}))).then((e=>o())).catch((e=>{console.log(e),M(`${e.response.status}: ${e.response.data}`,{type:"danger"})}))}}}};k("data-v-1a6c0708");const $e={class:"relative border bg-white dark:bg-gray-900 border-gray-100 dark:border-black m-w-20 py-5 px-10 rounded-2xl shadow-xl text-center"},Oe=v("p",{class:"font-bold text-xl pb-4"},"Login with access token",-1),Se={class:"text-right mt-1"};x();var Me=ie(Le,[["render",function(e,t,n,a,o,l){const s=d("vue-final-modal");return p(),g("div",null,[m(s,S({modelValue:a.showLogin,"onUpdate:modelValue":t[6]||(t[6]=e=>a.showLogin=e)},e.$attrs,{classes:"flex justify-center items-center"}),{default:T((()=>[v("div",$e,[Oe,v("form",{class:"flex flex-col w-96",onSubmit:t[4]||(t[4]=L((e=>a.signin(a.name,a.secret)),["prevent"]))},[$(v("input",{placeholder:"Name","onUpdate:modelValue":t[0]||(t[0]=e=>a.name=e),type:"text",class:"input"},null,512),[[O,a.name]]),$(v("input",{placeholder:"Secret","onUpdate:modelValue":t[1]||(t[1]=e=>a.secret=e),type:"password",class:"input"},null,512),[[O,a.secret]]),v("div",Se,[v("button",{onClick:t[2]||(t[2]=e=>a.close()),class:"text-blue-400 text-xs"},"â† Back to index")]),v("div",{class:"bg-gray-100 dark:bg-gray-800 py-2 my-3 rounded-md cursor-pointer",onClick:t[3]||(t[3]=e=>a.signin(a.name,a.secret))},"Sign in")],32),v("button",{class:"absolute top-0 right-0 mt-5 mr-5",onClick:t[5]||(t[5]=e=>a.close())},"ðŸ—™")])])),_:1},16,["modelValue"]),v("div",{onClick:t[7]||(t[7]=e=>a.showLogin=!0)},[y(e.$slots,"button",{},void 0,!0)])])}],["__scopeId","data-v-1a6c0708"]]);const Ce={},qe={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Pe=[v("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)];var Ve=ie(Ce,[["render",function(e,t){return p(),g("svg",qe,Pe)}]]);const je={},Re={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},_e=[v("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)];const Ae={components:{MenuButton:Te,LoginModal:Me,MoonIcon:Ve,SunIcon:ie(je,[["render",function(e,t){return p(),g("svg",Re,_e)}]])},setup(){const{token:e,isLogged:t,logout:n}=se(),{theme:a,toggleTheme:o}=J(),{title:l}=Q();return{isLogged:t,signout:()=>n(),token:e,title:l,theme:a,toggleTheme:o}}},Be={class:"flex flex-row"},De={key:0,class:"pt-1.1 px-2"},ze=q(" Welcome "),Ne={class:"font-bold underline"},Ue=q(" Sign in "),He=q(" Logout ");const We={class:"bg-gray-100 dark:bg-black dark:text-white"},Ge={class:"container mx-auto flex flex-row py-10 justify-between"},Ke={class:"text-xl font-medium py-1"};var Fe=ie({components:{Hero:Ie,Menu:ie(Ae,[["render",function(e,t,n,a,o,l){const s=d("MenuButton"),r=d("LoginModal"),i=d("SunIcon"),c=d("MoonIcon");return p(),g("nav",Be,[a.isLogged()?(p(),g("div",De,[ze,v("span",Ne,f(a.token.name),1)])):h("",!0),m(r,null,{button:T((()=>[a.isLogged()?h("",!0):(p(),C(s,{key:0},{default:T((()=>[Ue])),_:1}))])),_:1}),a.isLogged()?(p(),C(s,{key:1,onClick:t[0]||(t[0]=e=>a.signout())},{default:T((()=>[He])),_:1})):h("",!0),v("div",{class:"pl-2 pt-1.3 cursor-pointer rounded-full bg-white dark:bg-gray-900",onClick:t[1]||(t[1]=e=>a.toggleTheme())},[a.theme.isDark?(p(),C(i,{key:0,class:"mr-1.9"})):(p(),C(c,{key:1,class:"mr-1.5"}))])])}]])},setup(){const{title:e}=Q();return{title:e}}},[["render",function(e,t,n,a,o,l){const s=d("router-link"),r=d("Menu"),i=d("Hero");return p(),g("header",We,[v("div",Ge,[v("h1",Ke,[m(s,{to:"/"},{default:T((()=>[q(f(a.title),1)])),_:1})]),m(r,{class:"mt-0.5"})]),m(i,{class:"pt-2 pb-11"})])}]]);const Ye=new DOMParser;const Ze={components:{PrismEditor:V},props:{qualifier:{type:Object,required:!0},session:{type:Object,required:!0}},setup(e){const t=e.qualifier,n=e.session,a="card-tab",o=E(localStorage.getItem(a)||"Maven");j((()=>localStorage.setItem(a,o.value)));const l=E(""),s=E([]),{createRepositories:r}=function(){const{id:e,title:t}=Q();return{createRepositories:n=>{const a=P((()=>n.path.split("/")[0])),o=e+(n.path?`-${a.value}`:""),l=location.protocol+"//"+location.host+(n.path?`/${a.value}`:"/{repository}");return[{name:"Maven",lang:"xml",snippet:`\n<repository>\n  <id>${o}</id>\n  <name>${t}</name>\n  <url>${l}</url>\n</repository>\n        `.trim()},{name:"Gradle Groovy",lang:"groovy",snippet:`maven {\n    url "${l}"\n }`.trim()},{name:"Gradle Kotlin",lang:"kotlin",snippet:`maven {\n    url = uri("${l}")\n}`},{name:"SBT",lang:"scala",snippet:`resolvers += "${o}" at "${l}"`}]}}}(),{createSnippets:i}={createSnippets:(e,t,n)=>[{name:"Maven",lang:"xml",snippet:`\n<dependency>\n  <groupId>${e}</groupId>\n  <artifactId>${t}</artifactId>\n  <version>${n}</version>\n</dependency>`.trim()},{name:"Gradle Groovy",lang:"xml",snippet:`implementation "${e}:${t}:${n}"`},{name:"Gradle Kotlin",lang:"kotlin",snippet:`implementation("${e}:${t}:${n}")`},{name:"SBT",lang:"scala",snippet:`"${e}" %% "${t}" %% "${n}"`}]},{parseMetadata:c,groupId:u,artifactId:d,versions:p}={parseMetadata:e=>Ye.parseFromString(e,"text/xml"),groupId:e=>{var t,n;return null==(n=null==(t=null==e?void 0:e.getElementsByTagName("groupId")[0])?void 0:t.firstChild)?void 0:n.nodeValue},artifactId:e=>{var t,n;return null==(n=null==(t=null==e?void 0:e.getElementsByTagName("artifactId")[0])?void 0:t.firstChild)?void 0:n.nodeValue},versions:e=>{var t,n,a;return null!=(a=null==(n=Array.from(null==(t=null==e?void 0:e.getElementsByTagName("versioning")[0])?void 0:t.children))?void 0:n.map((e=>e.firstChild.nodeValue)))?a:["{unknown}"]}},{client:g}=ne(n.tokenInfo.name,n.tokenInfo.secret),m=()=>{s.value=r(t),l.value="Repository details"};return j((()=>{const e=t.path.split("/");1!=e.length||""!=e[0]?g.maven.content(`${t.path}/maven-metadata.xml`).then((e=>(e=>{const t=c(e);s.value=i(u(t),d(t),p(t)[0]),l.value="Artifact details"})(e.data))).catch((e=>{"Request failed with status code 404"!==e.message&&console.log(e),m()})):m()})),j((()=>{s.value.forEach((e=>{e.highlighter=t=>{var n;return R.highlight(t,null!=(n=R.languages[e.lang])?n:R.languages.js)}}))})),{title:l,configurations:s,selectedTab:o}}},Je={class:"bg-white dark:bg-gray-900 shadow-lg p-7 dark:border-4 rounded-xl border-gray-100 dark:border-black"},Qe={class:"flex flex-row justify-between"},Xe={class:"font-bold"},et=v("hr",{class:"dark:border-gray-800"},null,-1),tt={class:"relative h-33 mt-6 p-4 mr-1 rounded-lg bg-gray-100 dark:bg-gray-800"};const nt={class:"flex flex-row justify-between mb-1.5 py-3 rounded-full bg-white dark:bg-gray-900 lg:max-w-2/5 xl:max-w-1/2 cursor-pointer"},at={class:"flex flex-row"},ot={key:0,class:"text-xm px-6 pt-1.75"},lt={key:1,class:"text-xm px-6 pt-1.75"},st={class:"font-semibold"},rt={key:0,class:"px-6"};const it={components:{Card:ie(Ze,[["render",function(e,t,n,a,o,l){const s=d("tab"),r=d("tabs"),i=d("prism-editor"),c=d("tab-panel"),u=d("tab-panels");return p(),g("div",Je,[v("div",Qe,[v("h1",Xe,f(a.title),1)]),m(r,{modelValue:a.selectedTab,"onUpdate:modelValue":t[0]||(t[0]=e=>a.selectedTab=e),class:"pt-3"},{default:T((()=>[(p(!0),g(_,null,A(a.configurations,((e,t)=>(p(),C(s,{class:"buildtool py-1 px-2 cursor-pointer",key:`t${t}`,val:e.name,label:e.name,indicator:!0},null,8,["val","label"])))),128))])),_:1},8,["modelValue"]),et,m(u,{modelValue:a.selectedTab,"onUpdate:modelValue":t[1]||(t[1]=e=>a.selectedTab=e),animate:!0},{default:T((()=>[(p(!0),g(_,null,A(a.configurations,((e,t)=>(p(),C(c,{key:`tp${t}`,val:e.name},{default:T((()=>[v("div",tt,[m(i,{class:"snippet absolute text-sm",modelValue:e.snippet,"onUpdate:modelValue":t=>e.snippet=t,highlight:e.highlighter,readonly:"","line-numbers":""},null,8,["modelValue","onUpdate:modelValue","highlight"])])])),_:2},1032,["val"])))),128))])),_:1},8,["modelValue"])])}]]),Entry:ie({props:{file:{type:Object,required:!0}},setup:e=>({file:e.file,prettyBytes:B})},[["render",function(e,t,n,a,o,l){return p(),g("div",nt,[v("div",at,["DIRECTORY"==a.file.type?(p(),g("div",ot,"âš«")):(p(),g("div",lt,"âšª")),v("div",st,f(a.file.name),1)]),a.file.contentLength?(p(),g("div",rt,f(a.prettyBytes(a.file.contentLength)),1)):h("",!0)])}]])},props:{qualifier:{type:Object,required:!0},session:{type:Object,required:!0}},setup(e){const t=e.qualifier,n=e.session,a=E(""),o=E([]),l=E(!1),s=E(void 0);return i((()=>t.watchable),(async e=>{const{name:r,secret:i}=n.tokenInfo,{client:c}=ne(r,i);var u;c.maven.details(t.path).then((e=>{o.value=e.data.files,l.value=0==o.value.length,s.value=void 0})).catch((e=>{console.log(e),M(`${e.response.status}: ${e.response.data.message}`,{type:"danger"}),s.value=e})),a.value=((u=`/${t.path}`).endsWith("/")?u.slice(0,-1):u).split("/").slice(0,-1).join("/")||"/"}),{immediate:!0}),{qualifier:t,session:n,parentPath:a,files:o,isEmpty:l,isErrored:s,isDirectory:e=>"DIRECTORY"==e.type,createURL:te}}},ct={class:"bg-gray-100"},ut={class:"bg-gray-100 dark:bg-black"},dt={class:"container mx-auto"},pt={class:"pt-7 pb-3 pl-2 font-semibold"},gt=v("span",{class:"select-none"},"Index of ",-1),mt={class:"select-text"},vt=v("span",{class:"font-normal text-xl text-gray-500 select-none"}," â¤´ ",-1),ft={class:"dark:bg-black"},ht={class:"container mx-auto relative min-h-320px"},bt={class:"lg:absolute pt-5 -top-5 right-8"},yt={class:"pt-4"},kt=["href"],xt={key:0},wt=[v("p",null,"Directory is empty",-1)],It={key:1},Et=[v("p",null,"Directory not found",-1)];var Tt=ie(it,[["render",function(e,t,n,a,o,l){const s=d("router-link"),r=d("Card"),i=d("Entry");return p(),g("div",ct,[v("div",ut,[v("div",dt,[v("p",pt,[gt,v("span",mt,f(e.$route.path),1),m(s,{to:a.parentPath},{default:T((()=>[vt])),_:1},8,["to"])])])]),v("div",ft,[v("div",ht,[v("div",bt,[m(r,{qualifier:a.qualifier,session:a.session},null,8,["qualifier","session"])]),v("div",yt,[(p(!0),g(_,null,A(a.files,(t=>(p(),g("div",{key:t},[a.isDirectory(t)?(p(),C(s,{key:0,to:e.append(e.$route.path,t.name)},{default:T((()=>[m(i,{file:t},null,8,["file"])])),_:2},1032,["to"])):(p(),g("a",{key:1,href:a.createURL(e.$route.path+"/"+t.name),target:"_blank"},[m(i,{file:t},null,8,["file"])],8,kt))])))),128)),a.isEmpty?(p(),g("div",xt,wt)):h("",!0),a.isErrored?(p(),g("div",It,Et)):h("",!0)])])])])}]]);const Lt={},$t={class:"container mx-auto pt-10 px-15"},Ot=[v("i",null,"Endpoints :: soonâ„¢",-1)];var St=ie(Lt,[["render",function(e,t){return p(),g("div",$t,Ot)}]]);const Mt=["Other","Trace","Debug","Info","Warn","Error"],Ct=l({}),qt=E(""),Pt=E(0),Vt=l([]),jt=new D,Rt=e=>jt.toHtml(e.replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll(" ","&nbsp;"));const _t=E(),At=E("");const Bt={props:{selectedTab:{type:Object,required:!0}},setup(e){const t=e.selectedTab,{levels:n,log:a,logMessage:o,filter:l,clearLog:s}=function(){Mt.forEach((e=>{Ct[e]={name:e,enabled:!0,count:P((()=>Vt.reduce(((t,n)=>t+(n.level===e)),0)))}}));const e=P((()=>Vt.filter((e=>e.message.toLowerCase().includes(qt.value.toLowerCase()))).filter((e=>Ct[e.level].enabled))));return{levels:Ct,log:e,filter:qt,sanitizeMessage:Rt,logMessage:e=>{var t,n;Vt.push({id:Pt.value++,message:Rt(e),level:(t=e,null!=(n=Mt.find((e=>t.includes(` | ${e.toUpperCase()} | `))))?n:"Other")})},clearLog:()=>{Vt.length=0}}}(),{onOpen:r,onMessage:c,onClose:u,onError:d,connect:p,close:g,command:m,execute:v}=function(){const e=te("/api/console/sock").replace("https","wss").replace("http","ws"),t=()=>{var e;return(null==(e=_t.value)?void 0:e.readyState)===WebSocket.OPEN},n=E(),a=E(),o=E(),l=E();return{connection:_t,connect:s=>{try{_t.value=new WebSocket(e),_t.value.onopen=()=>{_t.value.send(`Authorization:${s.name}:${s.secret}`),null==n||n.value()},_t.value.onmessage=e=>{"keep-alive"!=e.data&&(null==a||a.value(e.data))},_t.value.onerror=e=>null==o?void 0:o.value(e),_t.value.onclose=()=>null==l?void 0:l.value();const r=setInterval((()=>{var e;t()?null==(e=null==_t?void 0:_t.value)||e.send("keep-alive"):clearInterval(r)}),5e3)}catch(r){console.log(r),null==o||o.value(r)}},close:()=>{t()&&_t.value.close()},onOpen:n,onMessage:a,onError:o,onClose:l,command:At,execute:()=>{_t.value.send(At.value),At.value=""}}}();z((()=>g()));const f=()=>{M("Connecting to the remote console",{type:"info"});const{token:e}=se();r.value=()=>s(),c.value=e=>{o(e),U((()=>(()=>{const e=document.getElementById("console");e.scrollTop=e.scrollHeight})()))},d.value=e=>M(`${e||""}`,{type:"danger"}),u.value=()=>M("Connection with console has been lost",{type:"danger"}),p(e)};return i((()=>t.value),(e=>"Console"===e?f():g()),{immediate:!0}),{log:a,command:m,execute:v,levels:n,filter:l}}},Dt={class:"container mx-auto pt-10 px-15 text-xs"},zt={class:"flex text-sm flex-col xl:flex-row w-full py-2 justify-between"},Nt={class:"flex flex-row justify-around w-full xl:w-1/2"},Ut=["checked","onChange"],Ht={class:"pl-2 pr-4"},Wt={class:"bg-white dark:bg-gray-900 rounded-lg"},Gt={id:"console",class:"overflow-scroll h-144 px-4"},Kt=["innerHTML"],Ft=v("hr",{class:"dark:border-dark-300"},null,-1);const Yt={components:{Header:Fe,Browser:Tt,Endpoints:St,Console:ie(Bt,[["render",function(e,t,n,a,o,l){return p(),g("div",Dt,[v("div",zt,[$(v("input",{placeholder:"Filter","onUpdate:modelValue":t[0]||(t[0]=e=>a.filter=e),class:"w-full xl:w-1/2 mr-5 py-1 px-4 rounded-lg bg-white dark:bg-gray-900"},null,512),[[O,a.filter]]),v("div",Nt,[(p(!0),g(_,null,A(a.levels,(e=>(p(),g("div",{key:e.name,class:"pt-1.9 xl:pt-0.8 font-sans"},[v("input",{type:"checkbox",checked:e.enabled,onChange:t=>e.enabled=!e.enabled},null,40,Ut),v("span",Ht,f(e.name)+" ("+f(e.count)+")",1)])))),128))])]),v("div",Wt,[v("div",Gt,[(p(!0),g(_,null,A(a.log,(e=>(p(),g("p",{key:e.id,innerHTML:e.message,class:"whitespace-nowrap"},null,8,Kt)))),128))]),Ft,$(v("input",{placeholder:"Type command or '?' to get help",class:"w-full py-2 px-4 rounded-b-lg bg-white dark:bg-gray-900 dark:text-white","onUpdate:modelValue":t[1]||(t[1]=e=>a.command=e),onKeyup:t[2]||(t[2]=N((e=>a.execute()),["enter"]))},null,544),[[O,a.command]])])])}]])},props:{qualifier:{type:Object,required:!0},session:{type:Object,required:!0}},setup(e){const t=e.qualifier,n=e.session,{isManager:a}=se(),o=l({value:localStorage.getItem("selectedTab")||"Overview"});j((()=>localStorage.setItem("selectedTab",o.value)));const s=[{name:"Overview"},{name:"Endpoints"},{name:"Console",manager:!0}],r=P((()=>s.filter((e=>!(null==e?void 0:e.manager)||a(n.tokenInfo))).map((e=>e.name)))),i=P((()=>r.value.some((e=>"Console"==e))));return{qualifier:t,session:n,isManager:a,menuTabs:r,consoleEnabled:i,selectedTab:o}}};k("data-v-495b1008");const Zt={class:"bg-gray-100 dark:bg-black"},Jt={class:"container mx-auto"},Qt=v("hr",{class:"dark:border-gray-700"},null,-1),Xt={class:"overflow-auto"};x();var en=ie(Yt,[["render",function(e,t,n,a,o,l){const s=d("Header"),r=d("tab"),i=d("tabs"),c=d("Browser"),u=d("tab-panel"),f=d("Endpoints"),b=d("Console"),y=d("tab-panels");return p(),g("div",null,[m(s),v("div",Zt,[v("div",Jt,[m(i,{modelValue:a.selectedTab.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.selectedTab.value=e)},{default:T((()=>[(p(!0),g(_,null,A(a.menuTabs,((e,t)=>(p(),C(r,{class:"item font-normal",key:`menu${t}`,val:e,label:e,indicator:!0},null,8,["val","label"])))),128))])),_:1},8,["modelValue"])]),Qt,v("div",Xt,[m(y,{modelValue:a.selectedTab.value,"onUpdate:modelValue":t[1]||(t[1]=e=>a.selectedTab.value=e),animate:!0},{default:T((()=>[m(u,{val:"Overview"},{default:T((()=>[m(c,{qualifier:a.qualifier,session:a.session,ref:""},null,8,["qualifier","session"])])),_:1}),m(u,{val:"Endpoints"},{default:T((()=>[m(f)])),_:1}),a.consoleEnabled?(p(),C(u,{key:0,val:"Console"},{default:T((()=>[m(b,{selectedTab:a.selectedTab},null,8,["selectedTab"])])),_:1})):h("",!0)])),_:1},8,["modelValue"])])])])}],["__scopeId","data-v-495b1008"]]);const tn=H({history:W(),routes:[{path:"/:qualifier(.*)",name:"Index",component:en}]});const nn=G(pe);nn.config.globalProperties.append=(e,t)=>e+(e.endsWith("/")?"":"/")+t,nn.config.globalProperties.drop=e=>(e.endsWith("/")?e.slice(0,-1):e).split("/").slice(0,-1).join("/"),nn.use(K()).use(F,s).use(Y).use(tn).mount("#app");
